function _0x364c(_0x49ad9d,_0x1ff4fd){const _0x29f765=_0x29f7();return _0x364c=function(_0x29f782,_0x364cf3){_0x29f782=_0x29f782-0x10a;let _0x4cd001=_0x29f765[_0x29f782];return _0x4cd001;},_0x364c(_0x49ad9d,_0x1ff4fd);}function _0x29f7(){const _0x1488bb=['map','readableWebSocketStream\x20is\x20close','pipeTo','socks\x20connection\x20opened','Invalid\x20SOCKS\x20address\x20format','charCodeAt','invalid\x20user','remoteSocketToWS\x20has\x20exception\x20','releaseLock','1drIbVb','connected\x20to\x20','send','fail\x20to\x20auth\x20socks\x20server','readableWebSocketStream\x20pipeTo\x20error','readable','https://www.dell.com','write','read','stringify','/socks=','DOH_URL','3009265TwCHeW','https://dns.google.com/resolve','domain','invild\x20\x20addressType\x20is\x20','webSocketServer\x20has\x20error','match','error','2746536NpBBQl','UUID4','ReadableStream\x20was\x20canceled,\x20due\x20to\x20','1723599VQLSHt','Stringified\x20UUID\x20is\x20invalid','encode','2164490ecyPEl','test','898940lZVJxb','\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux','data','push','getUint16','slice','arrayBuffer','socks\x20server\x20needs\x20auth','length','value','retry\x20tcpSocket\x20closed\x20error','startsWith','15SbOAhj','finally','buffer','tcp\x20','https://','getReader','socks\x20server\x20version\x20error:\x20','enqueue','pathname','udp\x20','split','22WqHuUv','120YSNdnb','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','ipv6','random','4ajUHVt','sec-websocket-protocol','readableWebSocketStream\x20is\x20abort','floor','headers','https://www.bilibili.com','flatMap','\x20expected:\x205','replace','get','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','addEventListener','groups','toString','no\x20acceptable\x20methods','log','join','https://www.iq.com','https://www.revid.ai/','accept','toLowerCase','byteLength','LANDING_ADDRESS','host','9MScFch','decode','safeCloseWebSocket\x20error','stack','readyState','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','trim','sent\x20socks\x20greeting','values','catch','Upgrade','message','dns\x20udp\x20has\x20error','includes','close','1030835tokuXn','writable','retry','getWriter','https://www.wix.com/','addressValue\x20is\x20empty,\x20addressType\x20is\x20','url','port','1159404RtFPsj'];_0x29f7=function(){return _0x1488bb;};return _0x29f7();}const _0x381ced=_0x364c;(function(_0x3c15cb,_0x578967){const _0x579795=_0x364c,_0xfc904=_0x3c15cb();while(!![]){try{const _0x5b8878=parseInt(_0x579795(0x135))/0x1*(-parseInt(_0x579795(0x150))/0x2)+parseInt(_0x579795(0x14b))/0x3*(parseInt(_0x579795(0x16c))/0x4)+parseInt(_0x579795(0x15c))/0x5*(parseInt(_0x579795(0x12b))/0x6)+-parseInt(_0x579795(0x141))/0x7+-parseInt(_0x579795(0x148))/0x8*(parseInt(_0x579795(0x114))/0x9)+parseInt(_0x579795(0x14e))/0xa*(-parseInt(_0x579795(0x167))/0xb)+-parseInt(_0x579795(0x168))/0xc*(-parseInt(_0x579795(0x123))/0xd);if(_0x5b8878===_0x578967)break;else _0xfc904['push'](_0xfc904['shift']());}catch(_0x1bc666){_0xfc904['push'](_0xfc904['shift']());}}}(_0x29f7,0x47315));import{connect}from'cloudflare:sockets';var userID='0648919d-8bf1-4d4c-8525-36cf487506ec',landingAddress='',socks5Address='',dohURL=_0x381ced(0x142),domainList=[_0x381ced(0x10d),_0x381ced(0x13b),_0x381ced(0x171),_0x381ced(0x127),'https://landingsite.ai/','https://www.pexels.com/',_0x381ced(0x10e)],parsedSocks5Address={},enableSocks=![],worker_default={async 'fetch'(_0x4234ea,_0x4e1931,_0x4421ea){const _0xd8fe98=_0x381ced;try{userID=_0x4e1931[_0xd8fe98(0x149)]||userID;let _0x5bc290=_0x4e1931[_0xd8fe98(0x112)]||landingAddress,_0x1b2358=_0x4e1931[_0xd8fe98(0x140)]||dohURL,_0x40247d=_0x4e1931['SOCKS5']||socks5Address;!_0x1b2358[_0xd8fe98(0x15b)](_0xd8fe98(0x160))&&!_0x1b2358[_0xd8fe98(0x15b)]('http://')&&(dohURL=_0xd8fe98(0x160)+_0x1b2358);if(_0x5bc290['includes'](',')){const _0x509273=_0x5bc290[_0xd8fe98(0x166)](','),_0x2c7785=Math[_0xd8fe98(0x16f)](Math[_0xd8fe98(0x16b)]()*_0x509273[_0xd8fe98(0x158)]);landingAddress=_0x509273[_0x2c7785][_0xd8fe98(0x11a)]();}else landingAddress=_0x5bc290['trim']();if(_0x40247d)try{parsedSocks5Address=socks5AddressParser(_0x40247d),enableSocks=!![];}catch(_0x16732d){enableSocks=![];}const _0x3e2a3c=_0x4234ea[_0xd8fe98(0x170)][_0xd8fe98(0x175)](_0xd8fe98(0x11e)),_0x4ad9cf=new URL(_0x4234ea[_0xd8fe98(0x129)]);if(!_0x3e2a3c||_0x3e2a3c!=='websocket')switch(_0x4ad9cf['pathname']){case'/':const _0x136779=domainList[Math[_0xd8fe98(0x16f)](Math[_0xd8fe98(0x16b)]()*domainList[_0xd8fe98(0x158)])],_0x2334e6=new Response('',{'status':0x12d,'headers':{'Location':_0x136779}});return _0x2334e6;default:return new Response('This\x20site\x20canâ€™t\x20provide\x20a\x20secure\x20connection',{'status':0x194});}else{const _0x3864fe=_0x4ad9cf[_0xd8fe98(0x164)];if(_0x3864fe[_0xd8fe98(0x121)]('/pyip=')){const _0x12c3b2=_0x3864fe[_0xd8fe98(0x166)]('=')[0x1];isValidLandingAddress(_0x12c3b2)&&(landingAddress=_0x12c3b2);}else{if(_0x3864fe['includes'](_0xd8fe98(0x13f))){const _0x29218e=_0x3864fe['split']('=')[0x1],_0x59dcd4=_0x1f4107=>{const _0x292d29=/^(?:socks:\/\/)?(?:([a-zA-Z0-9._%+-]+):([a-zA-Z0-9._%+-]+)@)?([0-9]{1,3}(?:\.[0-9]{1,3}){3}:\d+|[a-zA-Z0-9.-]+:\d+)$/,_0x1eb141=_0x1f4107['match'](_0x292d29);if(_0x1eb141){const [_0x206063,_0x3ef846,_0x148bb8,_0x569424]=_0x1eb141;return _0x3ef846&&_0x148bb8?_0x3ef846+':'+_0x148bb8+'@'+_0x569424:':@'+_0x569424;}return'';};let _0x4caf14=_0x59dcd4(_0x29218e);_0x4caf14[_0xd8fe98(0x158)]!==0x0&&(parsedSocks5Address=socks5AddressParser(_0x4caf14),enableSocks=!![]);}}return await a1(_0x4234ea);}}catch(_0x3ed324){return new Response(_0x3ed324[_0xd8fe98(0x179)]());}}};async function a1(_0x5af8ac){const _0x211361=_0x381ced,[_0x351f36,_0x1bf0ef]=Object[_0x211361(0x11c)](new WebSocketPair());_0x1bf0ef[_0x211361(0x10f)]();let _0x29bacc='',_0x48607e='';const _0xbca171=(_0x29db63,_0x420685)=>{const _0x338fe2=_0x211361;console[_0x338fe2(0x10b)]('['+_0x29bacc+':'+_0x48607e+']\x20'+_0x29db63,_0x420685||'');},_0x3e186a=_0x5af8ac[_0x211361(0x170)][_0x211361(0x175)](_0x211361(0x16d))||'',_0x20aab7=makeReadableWebSocketStream(_0x1bf0ef,_0x3e186a,_0xbca171);let _0x3f0a5f={'value':null},_0x4611af=![],_0x675c08=null;return _0x20aab7[_0x211361(0x12e)](new WritableStream({async 'write'(_0x5141de,_0x596520){const _0x38bff1=_0x211361;if(_0x4611af&&_0x675c08)return _0x675c08(_0x5141de);if(_0x3f0a5f['value']){const _0x450826=_0x3f0a5f['value'][_0x38bff1(0x124)][_0x38bff1(0x126)]();await _0x450826[_0x38bff1(0x13c)](_0x5141de),_0x450826[_0x38bff1(0x134)]();return;}const {hasError:_0x227c83,message:_0x341d85,addressType:_0x3fb731,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x45ae14,vlessVersion:vlessVersion=new Uint8Array([0x0,0x0]),isUDP:_0x1a0c15}=processVlessHeader(_0x5141de,userID);_0x29bacc=addressRemote,_0x48607e=portRemote+'--'+Math[_0x38bff1(0x16b)]()+'\x20'+(_0x1a0c15?_0x38bff1(0x165):_0x38bff1(0x15f));if(_0x227c83){throw new Error(_0x341d85);return;}if(_0x1a0c15){if(portRemote===0x35)_0x4611af=!![];else return;}const _0x2f3881=new Uint8Array([vlessVersion[0x0],0x0]),_0x17055e=_0x5141de[_0x38bff1(0x155)](_0x45ae14);if(_0x4611af){const {write:_0x12aa26}=await handleUDPOutBound(_0x1bf0ef,_0x2f3881,_0xbca171);_0x675c08=_0x12aa26,_0x675c08(_0x17055e);return;}handleTCPOutBound(_0x3f0a5f,_0x3fb731,addressRemote,portRemote,_0x17055e,_0x1bf0ef,_0x2f3881,_0xbca171);},'close'(){const _0xa85206=_0x211361;_0xbca171(_0xa85206(0x12d));},'abort'(_0x4d81c3){const _0x18f62d=_0x211361;_0xbca171(_0x18f62d(0x16e),JSON[_0x18f62d(0x13e)](_0x4d81c3));}}))[_0x211361(0x11d)](_0x26988c=>{const _0x4bdf25=_0x211361;_0xbca171(_0x4bdf25(0x139),_0x26988c);}),new Response(null,{'status':0x65,'webSocket':_0x351f36});}async function handleTCPOutBound(_0x512ad2,_0xc774df,_0x3b19f8,_0x5e98b0,_0x333090,_0x5e92d2,_0x14033b,_0xbc6c35){async function _0x5e14db(_0x411f39,_0x5a58ec,_0x24bad6=![]){const _0x466fef=_0x364c,_0x2edf3e={'hostname':_0x411f39,'port':_0x5a58ec},_0x4735c3=_0x24bad6?await socks5Connect(_0xc774df,_0x411f39,_0x5a58ec,_0xbc6c35):connect(_0x2edf3e);_0x512ad2[_0x466fef(0x159)]=_0x4735c3,_0xbc6c35(_0x466fef(0x136)+_0x411f39+':'+_0x5a58ec);const _0x3337eb=_0x4735c3['writable']['getWriter']();return await _0x3337eb['write'](_0x333090),_0x3337eb['releaseLock'](),_0x4735c3;}async function _0x4833b0(){const _0x5881c5=_0x364c;if(enableSocks)_0x35b385=await _0x5e14db(_0x3b19f8,_0x5e98b0,!![]);else{let _0x2f5deb=landingAddressParse(landingAddress);_0x35b385=await _0x5e14db(_0x2f5deb[_0x5881c5(0x113)]||_0x3b19f8,_0x2f5deb[_0x5881c5(0x12a)]||_0x5e98b0);}_0x35b385['closed'][_0x5881c5(0x11d)](_0x5d69b9=>{const _0x22bbf6=_0x5881c5;_0xbc6c35(_0x22bbf6(0x15a),_0x5d69b9);})[_0x5881c5(0x15d)](()=>{safeCloseWebSocket(_0x5e92d2);}),remoteSocketToWS(_0x35b385,_0x5e92d2,_0x14033b,null,_0xbc6c35);}let _0x35b385=await _0x5e14db(_0x3b19f8,_0x5e98b0);remoteSocketToWS(_0x35b385,_0x5e92d2,_0x14033b,_0x4833b0,_0xbc6c35);}function makeReadableWebSocketStream(_0x3e5e03,_0x5198c4,_0x3238d2){let _0x3335df=![];const _0x4ae7d1=new ReadableStream({'start'(_0x5c4d27){const _0xeacf18=_0x364c;_0x3e5e03[_0xeacf18(0x177)](_0xeacf18(0x11f),_0x36c959=>{const _0x54f6f2=_0xeacf18;if(_0x3335df)return;const _0x34bc9f=_0x36c959[_0x54f6f2(0x152)];_0x5c4d27[_0x54f6f2(0x163)](_0x34bc9f);}),_0x3e5e03['addEventListener']('close',()=>{const _0x2758e6=_0xeacf18;safeCloseWebSocket(_0x3e5e03);if(_0x3335df)return;_0x5c4d27[_0x2758e6(0x122)]();}),_0x3e5e03[_0xeacf18(0x177)](_0xeacf18(0x147),_0x3a2eb9=>{const _0xf444b3=_0xeacf18;_0x5c4d27['error'](_0xf444b3(0x145),_0x3a2eb9);});const {earlyData:_0x387c61,error:_0x4169f3}=base64ToArrayBuffer(_0x5198c4);if(_0x4169f3)_0x5c4d27[_0xeacf18(0x147)](_0x4169f3);else _0x387c61&&_0x5c4d27[_0xeacf18(0x163)](_0x387c61);},'pull'(_0x5df272){},'cancel'(_0x514ea4){const _0x54b0c1=_0x364c;if(_0x3335df)return;_0x3238d2(_0x54b0c1(0x14a)+_0x514ea4),_0x3335df=!![],safeCloseWebSocket(_0x3e5e03);}});return _0x4ae7d1;}function processVlessHeader(_0x3b63de,_0xdd1900){const _0x5c4714=_0x381ced;if(_0x3b63de[_0x5c4714(0x111)]<0x18)return{'hasError':!![],'message':'invalid\x20data'};const _0x4892bb=new Uint8Array(_0x3b63de[_0x5c4714(0x155)](0x0,0x1));let _0x3b5678=![],_0x5dafb1=![];stringify(new Uint8Array(_0x3b63de[_0x5c4714(0x155)](0x1,0x11)))===_0xdd1900&&(_0x3b5678=!![]);if(!_0x3b5678)return{'hasError':!![],'message':_0x5c4714(0x132)};const _0x2d5487=new Uint8Array(_0x3b63de[_0x5c4714(0x155)](0x11,0x12))[0x0],_0x450fb8=new Uint8Array(_0x3b63de[_0x5c4714(0x155)](0x12+_0x2d5487,0x12+_0x2d5487+0x1))[0x0];if(_0x450fb8===0x1){}else{if(_0x450fb8===0x2)_0x5dafb1=!![];else return{'hasError':!![],'message':'command\x20'+_0x450fb8+_0x5c4714(0x151)};}const _0x3e76d3=0x12+_0x2d5487+0x1,_0x13086f=_0x3b63de[_0x5c4714(0x155)](_0x3e76d3,_0x3e76d3+0x2),_0x1eedc2=new DataView(_0x13086f)['getUint16'](0x0);let _0x562e34=_0x3e76d3+0x2;const _0x3930ef=new Uint8Array(_0x3b63de['slice'](_0x562e34,_0x562e34+0x1)),_0x427bf0=_0x3930ef[0x0];let _0x3376c6=0x0,_0x4ecc2b=_0x562e34+0x1,_0x1ab5bf='';switch(_0x427bf0){case 0x1:_0x3376c6=0x4,_0x1ab5bf=new Uint8Array(_0x3b63de['slice'](_0x4ecc2b,_0x4ecc2b+_0x3376c6))[_0x5c4714(0x10c)]('.');break;case 0x2:_0x3376c6=new Uint8Array(_0x3b63de['slice'](_0x4ecc2b,_0x4ecc2b+0x1))[0x0],_0x4ecc2b+=0x1,_0x1ab5bf=new TextDecoder()[_0x5c4714(0x115)](_0x3b63de['slice'](_0x4ecc2b,_0x4ecc2b+_0x3376c6));break;case 0x3:_0x3376c6=0x10;const _0x2f28fb=new DataView(_0x3b63de[_0x5c4714(0x155)](_0x4ecc2b,_0x4ecc2b+_0x3376c6)),_0x2173b8=[];for(let _0x4dbdb8=0x0;_0x4dbdb8<0x8;_0x4dbdb8++){_0x2173b8[_0x5c4714(0x153)](_0x2f28fb[_0x5c4714(0x154)](_0x4dbdb8*0x2)[_0x5c4714(0x179)](0x10));}_0x1ab5bf=_0x2173b8[_0x5c4714(0x10c)](':');break;default:return{'hasError':!![],'message':_0x5c4714(0x144)+_0x427bf0};}if(!_0x1ab5bf)return{'hasError':!![],'message':_0x5c4714(0x128)+_0x427bf0};return{'hasError':![],'addressRemote':_0x1ab5bf,'addressType':_0x427bf0,'portRemote':_0x1eedc2,'rawDataIndex':_0x4ecc2b+_0x3376c6,'vlessVersion':_0x4892bb,'isUDP':_0x5dafb1};}async function remoteSocketToWS(_0x1b7476,_0x299329,_0x28afa8,_0x29d011,_0x49a3cf){const _0x265b00=_0x381ced;let _0x8b27a4=_0x28afa8,_0x1df441=![];await _0x1b7476['readable'][_0x265b00(0x12e)](new WritableStream({'start'(){},async 'write'(_0x78683c,_0x137bf0){const _0x4f8e09=_0x265b00;_0x1df441=!![],_0x299329[_0x4f8e09(0x118)]!==WS_READY_STATE_OPEN&&_0x137bf0[_0x4f8e09(0x147)](_0x4f8e09(0x169)),_0x8b27a4?(_0x299329[_0x4f8e09(0x137)](await new Blob([_0x8b27a4,_0x78683c])['arrayBuffer']()),_0x8b27a4=null):_0x299329[_0x4f8e09(0x137)](_0x78683c);},'close'(){const _0x9e4be5=_0x265b00;_0x49a3cf(_0x9e4be5(0x119)+_0x1df441);},'abort'(_0x5e9440){const _0x1d7321=_0x265b00;console[_0x1d7321(0x147)]('remoteConnection!.readable\x20abort',_0x5e9440);}}))[_0x265b00(0x11d)](_0x3cb8fb=>{const _0x59b2ac=_0x265b00;console[_0x59b2ac(0x147)](_0x59b2ac(0x133),_0x3cb8fb[_0x59b2ac(0x117)]||_0x3cb8fb),safeCloseWebSocket(_0x299329);}),_0x1df441===![]&&_0x29d011&&(_0x49a3cf(_0x265b00(0x125)),_0x29d011());}function base64ToArrayBuffer(_0x1e64b3){const _0x61137b=_0x381ced;if(!_0x1e64b3)return{'error':null};try{_0x1e64b3=_0x1e64b3['replace'](/-/g,'+')[_0x61137b(0x174)](/_/g,'/');const _0x3c75dc=atob(_0x1e64b3),_0x1efab9=Uint8Array['from'](_0x3c75dc,_0x419a62=>_0x419a62[_0x61137b(0x131)](0x0));return{'earlyData':_0x1efab9[_0x61137b(0x15e)],'error':null};}catch(_0x431bf4){return{'error':_0x431bf4};}}var WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x36e6bc){const _0x3f96ff=_0x381ced;try{(_0x36e6bc[_0x3f96ff(0x118)]===WS_READY_STATE_OPEN||_0x36e6bc[_0x3f96ff(0x118)]===WS_READY_STATE_CLOSING)&&_0x36e6bc[_0x3f96ff(0x122)]();}catch(_0x381d79){console[_0x3f96ff(0x147)](_0x3f96ff(0x116),_0x381d79);}}var byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex['push']((i+0x100)[_0x381ced(0x179)](0x10)['slice'](0x1));}function unsafeStringify(_0x5a3546,_0x5c550b=0x0){const _0x7418f7=_0x381ced;return(byteToHex[_0x5a3546[_0x5c550b+0x0]]+byteToHex[_0x5a3546[_0x5c550b+0x1]]+byteToHex[_0x5a3546[_0x5c550b+0x2]]+byteToHex[_0x5a3546[_0x5c550b+0x3]]+'-'+byteToHex[_0x5a3546[_0x5c550b+0x4]]+byteToHex[_0x5a3546[_0x5c550b+0x5]]+'-'+byteToHex[_0x5a3546[_0x5c550b+0x6]]+byteToHex[_0x5a3546[_0x5c550b+0x7]]+'-'+byteToHex[_0x5a3546[_0x5c550b+0x8]]+byteToHex[_0x5a3546[_0x5c550b+0x9]]+'-'+byteToHex[_0x5a3546[_0x5c550b+0xa]]+byteToHex[_0x5a3546[_0x5c550b+0xb]]+byteToHex[_0x5a3546[_0x5c550b+0xc]]+byteToHex[_0x5a3546[_0x5c550b+0xd]]+byteToHex[_0x5a3546[_0x5c550b+0xe]]+byteToHex[_0x5a3546[_0x5c550b+0xf]])[_0x7418f7(0x110)]();}function isValidUUID(_0x228476){const _0x5f606=_0x381ced,_0xa37a46=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0xa37a46[_0x5f606(0x14f)](_0x228476);}function stringify(_0x1ae267,_0x23c7d4=0x0){const _0x4ba7c8=_0x381ced,_0x15a07c=unsafeStringify(_0x1ae267,_0x23c7d4);if(!isValidUUID(_0x15a07c))throw TypeError(_0x4ba7c8(0x14c));return _0x15a07c;}async function handleUDPOutBound(_0x7e0822,_0x1d657c,_0x55bd2b){const _0x101a6f=_0x381ced;let _0x37fa5c=![];const _0x1f9f3f=new TransformStream({'start'(_0x23bf05){},'transform'(_0x327900,_0x28ac59){const _0x30459b=_0x364c;for(let _0x48d59b=0x0;_0x48d59b<_0x327900[_0x30459b(0x111)];){const _0x2da013=_0x327900['slice'](_0x48d59b,_0x48d59b+0x2),_0x5a8cf3=new DataView(_0x2da013)[_0x30459b(0x154)](0x0),_0x32d1a2=new Uint8Array(_0x327900['slice'](_0x48d59b+0x2,_0x48d59b+0x2+_0x5a8cf3));_0x48d59b=_0x48d59b+0x2+_0x5a8cf3,_0x28ac59['enqueue'](_0x32d1a2);}},'flush'(_0x278979){}});_0x1f9f3f['readable'][_0x101a6f(0x12e)](new WritableStream({async 'write'(_0x123806){const _0x5cfebe=_0x101a6f,_0x5af0dc=await fetch(dohURL,{'method':'POST','headers':{'content-type':'application/dns-message'},'body':_0x123806}),_0xde885c=await _0x5af0dc[_0x5cfebe(0x156)](),_0x22f465=_0xde885c[_0x5cfebe(0x111)],_0x21dbe6=new Uint8Array([_0x22f465>>0x8&0xff,_0x22f465&0xff]);_0x7e0822[_0x5cfebe(0x118)]===WS_READY_STATE_OPEN&&(_0x55bd2b(_0x5cfebe(0x176)+_0x22f465),_0x37fa5c?_0x7e0822['send'](await new Blob([_0x21dbe6,_0xde885c])[_0x5cfebe(0x156)]()):(_0x7e0822['send'](await new Blob([_0x1d657c,_0x21dbe6,_0xde885c])[_0x5cfebe(0x156)]()),_0x37fa5c=!![]));}}))[_0x101a6f(0x11d)](_0x500e93=>{const _0x2a4380=_0x101a6f;_0x55bd2b(_0x2a4380(0x120)+_0x500e93);});const _0x541bcd=_0x1f9f3f[_0x101a6f(0x124)][_0x101a6f(0x126)]();return{'write'(_0x572228){const _0x226b97=_0x101a6f;_0x541bcd[_0x226b97(0x13c)](_0x572228);}};}async function socks5Connect(_0x1b92d2,_0x29eb0,_0x52a82f,_0x4e39ab){const _0x50e90d=_0x381ced,{username:_0x4eb3fb,password:_0x20aec1,hostname:_0x3c02d7,port:_0x244b66}=parsedSocks5Address,_0x4f077f=connect({'hostname':_0x3c02d7,'port':_0x244b66}),_0x17d0b8=new Uint8Array([0x5,0x2,0x0,0x2]),_0x2137a6=_0x4f077f[_0x50e90d(0x124)][_0x50e90d(0x126)]();await _0x2137a6[_0x50e90d(0x13c)](_0x17d0b8),_0x4e39ab(_0x50e90d(0x11b));const _0x12d40b=_0x4f077f[_0x50e90d(0x13a)][_0x50e90d(0x161)](),_0x46ccde=new TextEncoder();let _0x4fdb5b=(await _0x12d40b[_0x50e90d(0x13d)]())[_0x50e90d(0x159)];if(_0x4fdb5b[0x0]!==0x5){_0x4e39ab(_0x50e90d(0x162)+_0x4fdb5b[0x0]+_0x50e90d(0x173));return;}if(_0x4fdb5b[0x1]===0xff){_0x4e39ab(_0x50e90d(0x10a));return;}if(_0x4fdb5b[0x1]===0x2){_0x4e39ab(_0x50e90d(0x157));if(!_0x4eb3fb||!_0x20aec1){_0x4e39ab('please\x20provide\x20username/password');return;}const _0x239dc5=new Uint8Array([0x1,_0x4eb3fb[_0x50e90d(0x158)],..._0x46ccde[_0x50e90d(0x14d)](_0x4eb3fb),_0x20aec1[_0x50e90d(0x158)],..._0x46ccde[_0x50e90d(0x14d)](_0x20aec1)]);await _0x2137a6[_0x50e90d(0x13c)](_0x239dc5),_0x4fdb5b=(await _0x12d40b[_0x50e90d(0x13d)]())[_0x50e90d(0x159)];if(_0x4fdb5b[0x0]!==0x1||_0x4fdb5b[0x1]!==0x0){_0x4e39ab(_0x50e90d(0x138));return;}}let _0x3d49c2;switch(_0x1b92d2){case 0x1:_0x3d49c2=new Uint8Array([0x1,..._0x29eb0[_0x50e90d(0x166)]('.')[_0x50e90d(0x12c)](Number)]);break;case 0x2:_0x3d49c2=new Uint8Array([0x3,_0x29eb0[_0x50e90d(0x158)],..._0x46ccde[_0x50e90d(0x14d)](_0x29eb0)]);break;case 0x3:_0x3d49c2=new Uint8Array([0x4,..._0x29eb0[_0x50e90d(0x166)](':')[_0x50e90d(0x172)](_0x5193b4=>[parseInt(_0x5193b4[_0x50e90d(0x155)](0x0,0x2),0x10),parseInt(_0x5193b4['slice'](0x2),0x10)])]);break;default:_0x4e39ab(_0x50e90d(0x144)+_0x1b92d2);return;}const _0x12113b=new Uint8Array([0x5,0x1,0x0,..._0x3d49c2,_0x52a82f>>0x8,_0x52a82f&0xff]);await _0x2137a6[_0x50e90d(0x13c)](_0x12113b),_0x4e39ab('sent\x20socks\x20request'),_0x4fdb5b=(await _0x12d40b[_0x50e90d(0x13d)]())[_0x50e90d(0x159)];if(_0x4fdb5b[0x1]===0x0)_0x4e39ab(_0x50e90d(0x12f));else{_0x4e39ab('fail\x20to\x20open\x20socks\x20connection');return;}return _0x2137a6[_0x50e90d(0x134)](),_0x12d40b[_0x50e90d(0x134)](),_0x4f077f;}function socks5AddressParser(_0x961fb){const _0x547869=_0x381ced;let [_0x111acb,_0x419e7a]=_0x961fb[_0x547869(0x166)]('@')['reverse'](),_0x221595,_0x3a5dc2,_0x1d21ed,_0x15941e;if(_0x419e7a){const _0x256b60=_0x419e7a[_0x547869(0x166)](':');if(_0x256b60[_0x547869(0x158)]!==0x2)throw new Error('Invalid\x20SOCKS\x20address\x20format');[_0x221595,_0x3a5dc2]=_0x256b60;}const _0x49adcf=_0x111acb[_0x547869(0x166)](':');_0x15941e=Number(_0x49adcf['pop']());if(isNaN(_0x15941e))throw new Error(_0x547869(0x130));_0x1d21ed=_0x49adcf[_0x547869(0x10c)](':');const _0x8ad182=/^\[.*\]$/;if(_0x1d21ed[_0x547869(0x121)](':')&&!_0x8ad182[_0x547869(0x14f)](_0x1d21ed))throw new Error(_0x547869(0x130));return{'username':_0x221595,'password':_0x3a5dc2,'hostname':_0x1d21ed,'port':_0x15941e};}function isValidLandingAddress(_0x5d0eb2){const _0x432ce8=_0x381ced;var _0x55f3e2=/^(?:(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(?::\d{1,5})?|(?:(?:\d{1,3}\.){3}\d{1,3})(?::\d{1,5})?|(?:\[[0-9a-fA-F:]+\])(?::\d{1,5})?)$/;return _0x55f3e2[_0x432ce8(0x14f)](_0x5d0eb2);}function landingAddressParse(_0x3fad34){const _0x37aa97=_0x381ced,_0x22e3c3=/^(?:(?<domain>(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,})(?::(?<port>\d{1,5}))?|(?<ipv4>(?:\d{1,3}\.){3}\d{1,3})(?::(?<port_ipv4>\d{1,5}))?|(?<ipv6>\[[0-9a-fA-F:]+\])(?::(?<port_ipv6>\d{1,5}))?)$/,_0x4648f4=_0x3fad34[_0x37aa97(0x146)](_0x22e3c3);if(_0x4648f4){let _0x3a2694=_0x4648f4[_0x37aa97(0x178)][_0x37aa97(0x143)]||_0x4648f4[_0x37aa97(0x178)]['ipv4']||_0x4648f4[_0x37aa97(0x178)][_0x37aa97(0x16a)],_0x562d8d=_0x4648f4[_0x37aa97(0x178)][_0x37aa97(0x12a)]||_0x4648f4[_0x37aa97(0x178)]['port_ipv4']||_0x4648f4[_0x37aa97(0x178)]['port_ipv6']||void 0x0;return{'host':_0x3a2694,'port':_0x562d8d};}else return{'host':'','undefined':void 0x0};}export{worker_default as default};